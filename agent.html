<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>여행 전문 AI 에이전트</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { color: #2c3e50; }
    .card { border: 1px solid #ddd; border-radius: 10px; padding: 15px; margin-bottom: 15px; }
    button { background: #3498db; color: #fff; border: none; padding: 10px; border-radius: 5px; cursor: pointer; }
    button:hover { background: #2980b9; }
    textarea { width: 100%; height: 80px; margin: 10px 0; }
    select { padding: 5px; margin: 10px 0; }
  </style>
</head>
<body>
  <h1>✈️ 여행 전문 AI 에이전트</h1>
  <p>자연어로 여행 요청을 입력하세요 (예: "인천에서 도쿄 2박3일 최저가 항공편과 호텔 찾아줘").</p>
  
  <div class="card">
    <textarea id="user-request" placeholder="여행 요청을 입력하세요..."></textarea>
    <br>
    <label for="option">검색 옵션:</label>
    <select id="option">
      <option value="price">💰 최저가</option>
      <option value="time">⏱ 최단시간</option>
      <option value="stops">🔄 최소환승</option>
    </select>
    <br>
    <button onclick="processRequest()">검색하기</button>
    <div id="results"></div>
  </div>

  <script>
    // 간단한 자연어 파싱 함수 (실제는 GPT 같은 LLM 연결 가능)
    function parseRequest(text) {
      const originMatch = text.match(/인천|서울|김포|부산|제주/);
      const destinationMatch = text.match(/도쿄|오사카|뉴욕|파리|런던/);
      const nightsMatch = text.match(/(\d)박/);
      const daysMatch = text.match(/(\d)일/);

      return {
        origin: originMatch ? originMatch[0] : "인천",
        destination: destinationMatch ? destinationMatch[0] : "도쿄",
        nights: nightsMatch ? parseInt(nightsMatch[1]) : 2,
        days: daysMatch ? parseInt(daysMatch[1]) : 3,
        departDate: "2025-10-01",
        returnDate: "2025-10-03"
      };
    }

    function processRequest() {
      const text = document.getElementById("user-request").value;
      const option = document.getElementById("option").value;
      const query = parseRequest(text);
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = `<p>검색 요청: ${query.origin} → ${query.destination}, ${query.nights}박 ${query.days}일</p>`;

      // mock 항공권 데이터
      const flights = {
        price: { airline: "아시아나", price: 350000, duration: "2시간20분", stops: 0 },
        time: { airline: "대한항공", price: 420000, duration: "2시간05분", stops: 0 },
        stops: { airline: "ANA", price: 480000, duration: "2시간30분", stops: 0 }
      };

      // mock 호텔 데이터
      const hotels = {
        price: { name: "도쿄 캡슐호텔", price: 70000, rating: "⭐3.5" },
        time: { name: "신주쿠 비즈니스 호텔", price: 90000, rating: "⭐4.0" },
        stops: { name: "도쿄 시티 호텔", price: 130000, rating: "⭐4.7" }
      };

      const selectedFlight = flights[option];
      const selectedHotel = hotels[option];

      resultsDiv.innerHTML += "<h3>🛫 항공권 추천</h3>";
      resultsDiv.innerHTML += `<p>${selectedFlight.airline} | ${selectedFlight.duration} | ₩${selectedFlight.price.toLocaleString()} | 환승 ${selectedFlight.stops}회</p>`;

      resultsDiv.innerHTML += "<h3>🏨 호텔 추천</h3>";
      resultsDiv.innerHTML += `<p>${selectedHotel.name} | ₩${selectedHotel.price.toLocaleString()} / 박 | ${selectedHotel.rating}</p>`;
    }
  </script>
</body>
</html>
