<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>μ—¬ν–‰ AI μ—μ΄μ „νΈ - λ¨μ μμ•½</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
h1 { color: #2c3e50; }
.card { border: 1px solid #ddd; border-radius: 10px; padding: 15px; margin-bottom: 15px; }
button { background: #3498db; color: #fff; border: none; padding: 10px; border-radius: 5px; cursor: pointer; margin-top: 10px; }
button:hover { background: #2980b9; }
textarea { width: 100%; height: 80px; margin: 10px 0; }
.option-card { border: 1px solid #ccc; padding: 10px; margin: 5px 0; border-radius: 5px; cursor: pointer; }
.option-card:hover { background: #f0f0f0; }
</style>
</head>
<body>

<h1>βοΈ μ—¬ν–‰ μ „λ¬Έ AI μ—μ΄μ „νΈ</h1>
<p>μμ—°μ–΄λ΅ μ—¬ν–‰ μ”μ²­μ„ μ…λ ¥ν•μ„Έμ” (μ: "μΈμ²μ—μ„ λ„μΏ„ 2λ°•3μΌ μµμ €κ°€ ν•­κ³µκ¶κ³Ό νΈν…” μ°Ύμ•„μ¤").</p>

<div class="card">
  <textarea id="user-request" placeholder="μ—¬ν–‰ μ”μ²­μ„ μ…λ ¥ν•μ„Έμ”..."></textarea><br>
  <button onclick="searchCandidates()">κ²€μƒ‰</button>
</div>

<div id="results"></div>
<div id="checkout"></div>

<script>
// μμ—°μ–΄μ—μ„ μ—¬ν–‰ μ •λ³΄ μ¶”μ¶ (κ°„λ‹¨ mock, μ‹¤μ λ” LLM μ‚¬μ© κ°€λ¥)
function parseRequest(text) {
  const originMatch = text.match(/μΈμ²|μ„μΈ|κΉ€ν¬|λ¶€μ‚°|μ μ£Ό/);
  const destinationMatch = text.match(/λ„μΏ„|μ¤μ‚¬μΉ΄|λ‰΄μ•|νλ¦¬|λ°λ/);
  const nightsMatch = text.match(/(\d)λ°•/);
  const daysMatch = text.match(/(\d)μΌ/);

  return {
    origin: originMatch ? originMatch[0] : "μΈμ²",
    destination: destinationMatch ? destinationMatch[0] : "λ„μΏ„",
    nights: nightsMatch ? parseInt(nightsMatch[1]) : 2,
    days: daysMatch ? parseInt(daysMatch[1]) : 3,
    departDate: "2025-10-01",
    returnDate: "2025-10-03"
  };
}

// λ¨μ κ²€μƒ‰
function searchCandidates() {
  const text = document.getElementById("user-request").value;
  const query = parseRequest(text);
  const resultsDiv = document.getElementById("results");
  resultsDiv.innerHTML = `<p>κ²€μƒ‰ μ”μ²­: ${query.origin} β†’ ${query.destination}, ${query.nights}λ°• ${query.days}μΌ</p><h3>μ¶”μ² μµμ…</h3>`;

  // mock ν•­κ³µ/νΈν…” ν›„λ³΄
  const options = [
    { type: "μµμ €κ°€", airline: "μ•„μ‹μ•„λ‚", price: 350000, duration: "2μ‹κ°„20λ¶„", stops: 0, hotel: {name:"λ„μΏ„ μΊ΅μνΈν…”", price:70000, rating:"β­3.5"} },
    { type: "μµλ‹¨μ‹κ°„", airline: "λ€ν•ν•­κ³µ", price: 420000, duration: "2μ‹κ°„05λ¶„", stops: 0, hotel: {name:"μ‹ μ£ΌμΏ  λΉ„μ¦λ‹μ¤ νΈν…”", price:90000, rating:"β­4.0"} },
    { type: "μµμ†λ¦¬μ¤ν¬", airline: "ANA", price: 480000, duration: "2μ‹κ°„30λ¶„", stops: 0, hotel: {name:"λ„μΏ„ μ‹ν‹° νΈν…”", price:130000, rating:"β­4.7"} }
  ];

  options.forEach((opt, idx) => {
    const div = document.createElement("div");
    div.className = "option-card";
    div.innerHTML = `
      <strong>[${opt.type}]</strong> β ${opt.airline} | ${opt.duration} | β‚©${opt.price.toLocaleString()} | ν™μΉ ${opt.stops}ν <br>
      π¨ ${opt.hotel.name} | β‚©${opt.hotel.price.toLocaleString()} / λ°• | ${opt.hotel.rating}
    `;
    div.onclick = () => selectOption(opt);
    resultsDiv.appendChild(div);
  });
}

// μµμ… μ„ νƒ μ‹ λ¨μ κ²°μ  ν™”λ©΄ ν‘μ‹
function selectOption(option) {
  const checkoutDiv = document.getElementById("checkout");
  checkoutDiv.innerHTML = `
    <div class="card">
      <h3>π›’ κ²°μ  μ „ ν™•μΈ</h3>
      <p><strong>ν•­κ³µνΈ:</strong> ${option.airline} | ${option.duration} | β‚©${option.price.toLocaleString()} | ν™μΉ ${option.stops}ν</p>
      <p><strong>νΈν…”:</strong> ${option.hotel.name} | β‚©${option.hotel.price.toLocaleString()} / λ°• | ${option.hotel.rating}</p>
      <p><strong>μ΄ μμƒ λΉ„μ©:</strong> β‚©${(option.price + option.hotel.price * 2).toLocaleString()}</p>
      <button onclick="alert('λ¨μ κ²°μ  μ™„λ£! μ‹¤μ  κ²°μ λ” μ΄λ£¨μ–΄μ§€μ§€ μ•μµλ‹λ‹¤.')">λ¨μ κ²°μ  μ§„ν–‰</button>
    </div>
  `;
}
</script>
</body>
</html>
